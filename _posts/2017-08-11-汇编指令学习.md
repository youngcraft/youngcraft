

# 汇编指令学习

指令的汇编格式：PUSH SRC ；POP DST
指令的基本功能：PUSH指令在程序中常用来暂存某些数据，而POP指令又可将这些数据恢复。

PUSH 等价于：

    subl $4, %esp
    
    movl %ebp (%esp)

POP 等价于：

    movl (%esp), %ead
    
    addl $4, %esp

CALL指令的步骤：首先是将返回地址（也就是call指令要执行时EIP的值）压入栈顶，然后是将程序跳转到当前调用的方法的起始地址。执行push和jump指令。

    push EIP+1(1个指令单位，4字节或8字节)
    jmp func_xx

RET指令则是将栈顶的返回地址弹出到EIP，然后按照EIP此时指示的指令地址继续执行程序。

esp -> eip
continue eip (eip 往往指向栈低的ret返回地址)

LEAVE指令是将栈指针指向帧顶位置，然后POP备份的原帧指针到%EBP。

    eip -> esp
    pop ebp->esp


# 


